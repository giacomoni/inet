#
# This ini file runs a a different application on the same network, NClients.
# It models a web user (HTTP 1.0), browsing single-document pages (i.e. those
# without images, applets, frames, etc). It uses TcpBasicClientApp and
# TcpGenericServerApp.
#
# To try, type NClients -f basicHTTP.ini
#


[General]
network = Dumbell
cmdenv-express-mode = true
sim-time-limit = 600s
*.cli[0].tcp.conn-16.cmdenv-log-level = off
*.srv[0].tcp.conn-17.cmdenv-log-level = off
**.cmdenv-log-level = off
cmdenv-log-prefix = "[%t %m]"
cmdenv-redirect-output = false
cmdenv-output-file = "/home/luca/debug.out"

#
#**.cwnd:vector.vector-recording = true
#**.cwndSeg:vector.vector-recording = true
**.scalar-recording=true
**.vector-recording=true
**.bin-recording=true

*.n = 2
# TCP Config
**.tcp.typename = "Tcp"
**.tcp.tcpAlgorithmClass = "TcpCubic"
**.tcp.mss= 1024
**.tcp.advertisedWindow = 1073741823
**.tcp.limitedTransmitEnabled = false # Need to add the limited transmit check for SACK based fadt recoverty.
**.tcp.windowScalingSupport = true
**.tcp.timestampSupport = true
**.tcp.initialSsthresh = 100*1024
**.tcp.nagleEnabled = true
**.tcp.sackSupport=true
**.tcp.delayedAcksEnabled = false
**.tcp.increasedIWEnabled = false
**.tcp.dupthresh = 3
**.tcp.max_burst = 1000


# tcp apps
**.cli[*].numApps = 1
**.cli[*].app[*].typename  = "TcpSessionApp"
**.cli[*].app[*].active = true
**.cli[*].app[*].localAddress = ""
**.cli[*].app[*].localPort = -1 
**.cli[*].app[*].connectAddress = "srv[" + string(parentIndex()) + "]"
**.cli[*].app[*].connectPort = 80 + index

**.srv[*].numApps = 2
**.srv[*].app[*].typename = "TcpSinkApp"
**.srv[*].app[*].localAddress = ""
**.srv[*].app[*].localPort = 80 + index


**.cli[0].app[0].tOpen = 0s
**.cli[0].app[0].tSend = 0s
**.cli[0].app[0].sendBytes = 1000MiB
**.cli[0].app[0].tClose = 0s

**.cli[1].app[0].tOpen = 100s
**.cli[1].app[0].tSend = 100s
**.cli[1].app[0].sendBytes = 1000MiB
**.cli[1].app[0].tClose = 0s


# NIC configuration
**.ppp[*].queue.typename = "DropTailQueue" # in routers
**.r1.ppp[*].queue.packetCapacity = 293
#**.cli[*].ppp[*].queue.packetCapacity = 250
**.ppp[*].ppp.mtu = 1500B
